name: AVIS Hello Log
on: [push, workflow_dispatch]

jobs:
  avis-process:
    runs-on: ubuntu-latest
    env:
      # Scalar block for your AVIS data
      AVIS_BLOCK: |
        fire-gem-config:
          avis:
            message: "hello"
            status: "active"
            identity: "fire-gem-txt"

    steps:
      - name: Force Write AVIS Log
        run: |
          #mkdir -p fire-gem
          
          # Using double quotes is CRITICAL to preserve multi-line variables
          # This writes the AVIS_BLOCK exactly as formatted above
          echo "$AVIS_BLOCK" > fire-gem/fire-gem.txt
          
          # Immediate check: If the cat is empty, the variable itself is the glitch
          echo "--- LOG CONTENT START ---"
          cat fire-gem/fire-gem.txt
          echo "--- LOG CONTENT END ---"
