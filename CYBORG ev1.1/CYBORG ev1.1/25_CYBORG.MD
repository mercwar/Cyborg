
# **üìò PAGE 4.5 ‚Äî C OUTPUT STRUCTURE (FORMAL SPECIFICATION)**  
### *AVIS Cyborg Language System ‚Äî MSDN + ISO Hybrid Reference*  
*(Hybrid Markdown + Code‚ÄëStyled Blocks Edition)*  

---

## **4.5 Overview**

This section defines the **formal, canonical structure** of all C output generated by the Cyborg Language.  
The C output is:

- deterministic  
- linear  
- non‚Äëbranching  
- non‚Äëoptimizing  
- non‚Äëinferential  
- strictly derived from IR  

Every Cyborg Module produces **exactly one** C function with a fixed structure.

This section is **normative**.

---

# **4.5.1 C Output Philosophy**

The Cyborg ‚Üí IR ‚Üí C pipeline enforces three principles:

### **Principle 1 ‚Äî Fidelity**  
C output MUST reflect IR exactly.

### **Principle 2 ‚Äî Purity**  
C output MUST contain no additional logic.

### **Principle 3 ‚Äî Determinism**  
C output MUST be identical for identical IR.

There is no room for creativity, inference, or optimization.

---

# **4.5.2 Canonical C Function Structure**

Every module produces a function with this exact shape:

```c
int cyborg_payload(<TARGET_TYPE>* ctx) {
    <BODY>
}
```

Where:

- `<TARGET_TYPE>` is determined by the target  
- `<BODY>` is a linear sequence of verb calls  
- the return value is the OR‚Äëaggregation of all verb results  

---

# **4.5.3 Target Type Resolution**

The target determines the parameter type.

| Target | C Type |
|--------|--------|
| `AI` | `CyborgContext* ctx` |
| `FILE` | `CyborgFile* file` |
| `LAYER` | `CyborgLayer* layer` |

### **Example**
```cyborg
TARGET = FILE
```

‚Üí

```c
CyborgFile* file
```

---

# **4.5.4 Function Body Structure**

The body contains:

1. **Temporary variables** for each verb result  
2. **Direct calls** to verb functions  
3. **A final OR‚Äëaggregation return statement**  

### **Example**
```c
int r1 = scan_context(ctx);
int r2 = validate_context(ctx);
return (r1 || r2);
```

---

# **4.5.5 Verb Call Mapping**

Each EXEC_* opcode maps to a single C call.

| IR Opcode | C Call |
|-----------|--------|
| `EXEC_VALIDATE` | `validate_context(ctx)` |
| `EXEC_SCAN` | `scan_context(ctx)` |
| `EXEC_BUILD` | `build_context(ctx)` |
| `EXEC_GIVE` | `give_context(ctx)` |
| `EXEC_EXPLAIN` | `explain_context(ctx)` |

### **Rules**

- MUST be called in order  
- MUST be assigned to temporary variables  
- MUST be OR‚Äëaggregated  
- MUST NOT be skipped  
- MUST NOT be optimized  

---

# **4.5.6 Return Value Rules**

The return value MUST be:

- a single expression  
- OR‚Äëaggregating all verb results  
- in the order written  

### **Example**
```c
return (r1 || r2 || r3);
```

### **Forbidden**
```c
return r1;                 // ‚ùå ignores others
return (r3 || r1 || r2);   // ‚ùå reorders
return (r1 && r2);         // ‚ùå wrong operator
```

---

# **4.5.7 No Additional C Constructs Allowed**

The C generator MUST NOT introduce:

- loops  
- conditionals  
- branches  
- error handling  
- logging  
- comments  
- macros  
- inline functions  
- optimizations  
- reordering  
- parallelism  

The output MUST remain a **pure transcription** of the IR.

---

# **4.5.8 Full Valid Example**

### **VB‚ÄëStyle**
```vb
set to you
begin
scan
validate
give
#!#
end
```

### **IR**
```cyborg
TARGET = AI
OPEN_PAYLOAD
EXEC_SCAN
EXEC_VALIDATE
EXEC_GIVE
SEAL
END_TRANSMISSION
```

### **C Output**
```c
int cyborg_payload(CyborgContext* ctx) {
    int r1 = scan_context(ctx);
    int r2 = validate_context(ctx);
    int r3 = give_context(ctx);
    return (r1 || r2 || r3);
}
```

This is the **canonical** output.

---

# **4.5.9 Forbidden C Output Patterns**

The following MUST be rejected:

### ‚ùå Reordered calls  
### ‚ùå Missing calls  
### ‚ùå Combined calls  
### ‚ùå Inferred calls  
### ‚ùå Additional logic  
### ‚ùå Optimized logic  
### ‚ùå Conditional logic  
### ‚ùå Loops  
### ‚ùå Parallel execution  
### ‚ùå Comments  
### ‚ùå Extra functions  

Any deviation breaks determinism.

---

# **4.5.10 Summary**

Page 4.5 defines the **formal C output structure**:

- one function per module  
- deterministic parameter type  
- linear verb calls  
- OR‚Äëaggregated return value  
- no inference  
- no optimization  
- no deviation  

The C output is the **final, executable truth** of the Cyborg Language.

